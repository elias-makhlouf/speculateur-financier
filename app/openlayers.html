<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>AgriTrendMap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/img/icon.png">
    <link rel="stylesheet" href="./openlayers.css">
</head>

<body>
    <header>
        <button id="backToMenu" title="Retour au menu">‚¨Ö Accueil</button>
        <h1>AgriTrendMap</h1>
    </header>  

    <!-- Introduction AgriTrendMap -->
    <section class="map-intro">
        <p><strong>AgriTrendMap</strong> est un outil d‚Äôanalyse g√©ospatiale d√©di√© aux investissements fonciers agricoles mondiaux. Il permet d‚Äôidentifier les pays concentrant les plus grandes surfaces totales engag√©es selon le temps.
        <p>Chaque op√©ration est repr√©sent√©e par un cercle dont la taille est proportionnelle √† la surface acquise, offrant une lecture imm√©diate de l‚Äôampleur r√©elle des investissements. Un graphique cumul√© par pays compl√®te l‚Äôanalyse en quantifiant pr√©cis√©ment les hectares investis selon les filtres s√©lectionn√©s. Les donn√©es ont √©t√© trouv√©es sur la <a href="https://www.fao.org/faostat/en/#data/CISP" target="_blank" class="data-source">Land Matrix</a></p>
        <p>Pens√© comme un outil de lecture macro, AgriTrendMap met en √©vidence la concentration g√©ographique des investissements et les dynamiques territoriales √† l‚Äô√©chelle mondiale, aidant √† prioriser les zones strat√©giques pour un portefeuille d‚Äôinvestissement foncier optimis√©.</p>
    </section>


<main>
        <div class="map"></div>
            <div class="map-layout">

            <!-- Panneau de contr√¥le -->
            <aside id="controls">
                <section>
                    <h3>Choisissez votre fond de carte</h3>
                    <label><input type="radio" name="basemap" id="baseOSM" checked>OpenStreetMap</label>
                    <label><input type="radio" name="basemap" id="baseESRI">Satellite (ESRI)</label>
                </section>

                <section>
                    <h3>Choisissez les couches √† afficher</h3>
                    <label><input type="checkbox" id="toggleWMS" checked>‚ÄØPays impliqu√©s dans un deal‚ÄØ </label>
                    <label><input type="checkbox" id="toggleWFS" checked>Opr√©ations agricoles</label>
                </section>

                <section>
                    <h3>Filtrer par ann√©e : <span id="yearValue">Aucune s√©lection</span></h3>
                    <div class="slider-container">
                        <input type="range" id="yearSlider" min="2015" max="2025" step="1" value="2015">
                        <button id="resetYear" title="R√©initialiser">‚ü≤</button>
                    </div>
                </section>

                <section>
                    <h3>Filtrer par continent</h3>
                    <div class="continent-buttons">
                        <button data-continent="Americas">Am√©rique latine</button>
                        <button data-continent="Africa">Afrique</button>
                        <button data-continent="Asia">Asie</button>
                        <button data-continent="Europe">Europe de l'est</button>
                        <button data-continent="World">Monde</button>
                    </div>
                </section>

                <section id="attributes">
                    <h3>Op√©rations s√©lectionn√©es</h3>
                    <div id="attributesContent"><p>S√©lectionnez un deal sur la carte</p></div>
                </section>
            </aside>

            <!-- Carte -->
            <div id="map">

                <!-- Graphique en barre -->
                <section id="chartContainer">
                    <h3>Total d'hectares investis</h3>
                    <canvas id="continentChart" width="230" height="150"></canvas>
                </section>

                <!-- L√©gende DANS la carte -->
                <section id="legend">
                    <h3>L√©gende</h3>
                    <span><img id="legendWMS" alt="L√©gende WMS">‚ÄØPays avec op√©ration</span>
                    <h4 id="dynamicCircleTitle">Surface des op√©rations agricoles</h4>
                    <div class="legend-item">
                        <div id="dynamicCircle" class="circle"></div>
                        <span id="dynamicLabel">‚Äì</span>
                    </div>
                </section>

                <!-- Bouton conseil -->
                <button id="tipButton" title="Conseil d'investisseur">üí°</button>

                <!-- Panel conseil -->
                <div id="tipPanel">
                    <div id="tipContent">
                        <h4>üí° Conseil d'investisseur</h4>
                        <p id="tipText">S√©lectionnez un continent pour voir un conseil.</p>
                    </div>
                    <button id="closeTip">‚úñ</button>
                </div>

            </div>

        </main>

    <!-- Script OpenLayers -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="./openlayers.js"></script>

</body>

<footer>
        <p>&copy; 2026 AreaINVEST Analytics. Tous droits r√©serv√©s.</p>
</footer>

</html>
