<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>AgriInvest Analytics ‚Äì Analyse OpenLayers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Feuille de style principale -->
    <link rel="stylesheet" href="./openlayers.css">
</head>

<body>
    <header>
        <button id="backToMenu" title="Retour au menu">‚¨Ö Menu</button>
        <h1>Analyse des investissements agricoles mondiaux</h1>
        <p>
            Cette carte propose une lecture macro-√©conomique des investissements agricoles,
            afin d‚Äôidentifier les pays concentrant les plus grandes surfaces investies
            et les dynamiques r√©centes du march√©.
        </p>
    </header>  
    <main>
        <div class="map"></div>
            <div class="map-layout">

            <!-- Panneau de contr√¥le -->
            <aside id="controls">
                <section>
                    <h3>Fonds de carte</h3>
                    <label><input type="radio" name="basemap" id="baseOSM" checked>OpenStreetMap</label>
                    <label><input type="radio" name="basemap" id="baseESRI">Satellite (ESRI)</label>
                </section>

                <section>
                    <h3>Couches</h3>
                    <label><input type="checkbox" id="toggleWMS" checked>Deals par pays (WMS)</label>
                    <label><input type="checkbox" id="toggleWFS" checked>Deals individuels (WFS)</label>
                </section>

                <section>
                    <h3>Filtrer par ann√©e : <span id="yearValue">Aucune s√©lection</span></h3>
                    <div class="slider-container">
                        <input type="range" id="yearSlider" min="2015" max="2025" step="1" value="2015">
                        <button id="resetYear" title="R√©initialiser">‚ü≤</button>
                    </div>
                </section>

                <section>
                    <h3>Filtrer par continent</h3>
                    <div class="continent-buttons">
                        <button data-continent="Americas">Am√©rique latine</button>
                        <button data-continent="Africa">Afrique</button>
                        <button data-continent="Asia">Asie</button>
                        <button data-continent="Europe">Europe de l'est</button>
                        <button data-continent="World">Monde</button>
                    </div>
                </section>

                <section id="attributes">
                    <h3>Deals s√©lectionn√©s</h3>
                    <div id="attributesContent"><p>S√©lectionnez un deal sur la carte</p></div>
                </section>
            </aside>

            <!-- Carte -->
            <div id="map">
                <!-- Graphique overlay -->              
                <canvas id="continentChart" width="230" height="150"></canvas>
                
                <!-- L√©gende DANS la carte -->
                <section id="legend">
                    <h3>L√©gende</h3>
                    <span><img id="legendWMS" alt="L√©gende WMS">Surfaces investies par pays</span>
                    <h4 id="dynamicCircleTitle">Deals agricoles (surface)</h4>
                    <div class="legend-item">
                        <div id="dynamicCircle" class="circle"></div>
                        <span id="dynamicLabel">‚Äì</span>
                    </div>
                </section>

                <!-- Bouton conseil -->
                <button id="tipButton" title="Conseil d'investisseur">üí°</button>

                <!-- Panel conseil -->
                <div id="tipPanel">
                    <div id="tipContent">
                        <h4>üí° Conseil d'investisseur</h4>
                        <p id="tipText">S√©lectionnez un continent pour voir un conseil.</p>
                    </div>
                    <button id="closeTip">‚úñ</button>
                </div>




            </div>


    </main>

    <!-- ===================== -->
    <!-- Script OpenLayers -->
    <!-- ===================== -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="./openlayers.js"></script>

</body>
</html>
