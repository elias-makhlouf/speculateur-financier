/* ============================= */
/* BASE                          */
/* ============================= */
html, body {
    margin: 0;
    padding: 0;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
    background-color: #f4f6f9;
    color: #2c3e50;
}
h1,h2,h3,h4 { margin:0; font-weight:600; }
p { line-height:1.6; }

/* ============================= */
/* HEADER                        */
/* ============================= */
header {
    background: linear-gradient(135deg, #2a9d8f, #21867a);
    color:white;
    padding:40px 20px;
    text-align:center;
    position:relative;
}
header h1 { font-size:2.5em; margin-bottom:12px; }
header p { max-width:900px; margin:0 auto; font-size:1.1em; opacity:0.95; }

/* ============================= */
/* MAIN / CARTE                  */
/* ============================= */
main {
    max-width:1400px;
    margin:40px auto;
    padding:30px;
    background:white;
    border-radius:14px;
    box-shadow:0 8px 30px rgba(0,0,0,0.06);
    position:relative;
}
#map {
    width:100%;
    height:650px;
    border-radius:12px;
    border:1px solid #e0e0e0;
    overflow:hidden;
}

/* ============================= */
/* BOUTON RETOUR                  */
/* ============================= */
#backToMenu {
    position:absolute;
    top:20px;
    left:20px;
    z-index:1100;
    padding:10px 16px;
    font-size:0.9em;
    font-weight:600;
    color:#264653;
    background-color: rgba(248,249,251,0.95);
    border:1px solid #e3e6ea;
    border-radius:10px;
    cursor:pointer;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
    transition:all 0.2s ease;
}
#backToMenu:hover {
    background-color:#e76f51;
    color:white;
    border-color:#e76f51;
}

/* ============================= */
/* LÉGENDES                       */
/* ============================= */
.legend {
    background:white;
    padding:18px 20px;
    border-radius:12px;
    border:1px solid #e3e6ea;
    box-shadow:0 6px 20px rgba(0,0,0,0.15);
    font-size:1em;
    position:absolute;
    z-index:1000;
    line-height:1.6;
    max-width: 160px;
}
.legend h4 {
    margin-bottom:10px;
    color:#264653;
    font-size:1.2em;
}
.legend .swatch, .legend span {
    display:inline-block;
    width:18px;
    height:18px;
    margin-right:8px;
    border-radius:50%;
    vertical-align:middle;
    cursor:pointer;
}

.legend h4 {
    margin: 0 0 4px 0;  /* réduit l'espace sous le titre */
    font-size: 1.1em;   /* un peu plus grand que normal */
    color: #264653;
}

.legend p.explication {
    margin: 0 0 6px 0;   /* petit espace sous le texte */
    font-size: 10px;
    color: #555;
    line-height: 1.2;    /* réduit l'interligne */
    white-space: normal;
    font-style: italic;
}


/* Position légendes */
#legendOAI { bottom:300px; left:50px; }
#legendDeals { bottom:50px; left:50px; }

/* Couleurs légende deals */
.swatch.oilpalm { background:#f4f006ff; }
.swatch.soy { background:#e6550d; }
.swatch.sugarcane { background:#ffc400ff; }
.swatch.other { background:#363d7aff; }

/* Couleurs légende OAI */
.legend span.oai-high { background:#4dac26; }
.legend span.oai-medhigh { background:#b8e186; }
.legend span.oai-med { background:#f1b6da; }
.legend span.oai-low { background:#d01c8b; }

/* ============================= */
/* BOUTON RÉINITIALISER DANS LEGENDES */
#resetFilters {
    display:block;
    margin-top:10px;
    width:100%;
    padding:8px 0;
    font-size:1em;
    font-weight:600;
    color:white;
    background:#21867a;
    border:none;
    border-radius:8px;
    cursor:pointer;
    transition:all 0.2s ease;
}
#resetFilters:hover {
    background:#2a9d8f;
}

/* ============================= */
/* POPUPS                         */
/* ============================= */
.leaflet-popup-content-wrapper { border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.15); }
.leaflet-popup-content { font-size:0.95em; line-height:1.5; }
